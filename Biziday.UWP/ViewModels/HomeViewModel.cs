using System.Collections.ObjectModel;
using Biziday.UWP.Models;
using Biziday.UWP.News;

namespace Biziday.UWP.ViewModels
{
    public class HomeViewModel: ViewModelBase
    {
        private readonly INewsRetriever _newsRetriever;
        private ObservableCollection<NewsItem> _newsItems;
        private bool _pageIsLoading;

        public HomeViewModel(INewsRetriever newsRetriever)
        {
            _newsRetriever = newsRetriever;
            /*var response = JsonConvert.DeserializeObject<Response>("{\"result\":0,\"news\":{\"per_page\":30,\"current_page\":1,\"next_page_url\":null,\"prev_page_url\":null,\"from\":1,\"to\":30,\"data\":[{\"id\":3752,\"title\":\"Bucure\\u015fti. Cazare gratuit\\u0103 pentru persoanele blocate \\u00een Bucure\\u015fti, din cauza vremii. Sunt anulate 25 de zboruri \\u015fi 56 de trenuri.\",\"body\":\"Cazare gratuit\\u0103 pentru persoanele blocate \\u00een Bucure\\u015fti, din cauza vremii. Sunt anulate 25 de zboruri \\u015fi 56 de trenuri.\",\"link\":\"http:\\/\\/m.hotnews.ro\\/stire\\/21518079\",\"categoryId\":11,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483804750,\"photos\":[]},{\"id\":3738,\"title\":\"Demitere Compania de Drumuri\",\"body\":\"Premierul cere demisia \\u0219efului Companiei de Drumuri, din cauza interven\\u021biilor \\u00eent\\u00e2rziate.\",\"link\":\"http:\\/\\/m.digi24.ro\\/stiri\\/actualitate\\/evenimente\\/sorin-grindeanu-cere-demiterea-directorului-cnair-645540\",\"categoryId\":11,\"newsType\":3,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483789000,\"photos\":[]},{\"id\":3721,\"title\":\"Cod galben de ger \\u00een toat\\u0103 \\u021bara, valabil p\\u00e2n\\u0103 luni. Maximele diurne se vor situa frecvent \\u00eentre -16 \\u015fi -10 grade, iar minimele nocturne vor fi cuprinse \\u00eentre -25 \\u015fi -15 grade.\",\"body\":\"Cod galben de ger \\u00een toat\\u0103 \\u021bara, valabil p\\u00e2n\\u0103 luni. Maximele diurne se vor situa frecvent \\u00eentre -16 \\u015fi -10 grade, iar minimele nocturne vor fi cuprinse \\u00eentre -25 \\u015fi -15 grade.\",\"link\":\"http:\\/\\/www.digi24.ro\\/stiri\\/actualitate\\/cod-galben-de-ger-in-toata-tara-645444\",\"categoryId\":11,\"newsType\":3,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483776782,\"photos\":[]},{\"id\":3763,\"title\":\"Tenis. Novak Djokovic a c\\u00e2\\u015ftigat turneul de la Doha, dup\\u0103 ce l-a \\u00eenvins pe Andy Murray, scor 6-3, 5-7, 6-4.\",\"body\":\"Tenis. Novak Djokovic a c\\u00e2\\u015ftigat turneul de la Doha, dup\\u0103 ce l-a \\u00eenvins pe Andy Murray, scor 6-3, 5-7, 6-4.\",\"link\":\"http:\\/\\/m.hotnews.ro\\/stire\\/21518285\",\"categoryId\":14,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483813835,\"photos\":[]},{\"id\":3758,\"title\":\"Amenzile de circula\\u021bie se majoreaz\\u0103 de la 1 februarie. Valoarea unui punct-amend\\u0103 va cre\\u0219te odat\\u0103 cu m\\u0103rirea salariului minim brut, iar cea mai mic\\u0103 amend\\u0103 va fi de 290 lei, fa\\u021b\\u0103 de 250 lei \\u00een prezent.\",\"body\":\"Amenzile de circula\\u021bie se majoreaz\\u0103 de la 1 februarie. Valoarea unui punct-amend\\u0103 va cre\\u0219te odat\\u0103 cu m\\u0103rirea salariului minim brut. Cea mai mic\\u0103 amend\\u0103 va fi de 290 lei, fa\\u021b\\u0103 de 250 lei \\u00een prezent.\",\"link\":\"http:\\/\\/www.profit.ro\\/stiri\\/social\\/noi-amenzi-de-circulatie-aplicate-soferilor-amenda-maxima-poate-ajunge-la-14-500-de-lei-16470295\",\"categoryId\":24,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483809143,\"photos\":[]},{\"id\":3754,\"title\":\"Europa, sub ninsori abundente \\u015fi ger. S-au \\u00eenregistrat decese \\u00een Polonia, Italia \\u015fi Bulgaria. Toate mijloacele de transport sunt afectate.\",\"body\":\"Ninsori abundente \\u015fi ger \\u00een toat\\u0103 Europa. Numeroase decese \\u00een Polonia, Italia \\u015fi Bulgaria. Toate c\\u0103ile de transport sunt afectate.\",\"link\":\"http:\\/\\/m.adevarul.ro\\/international\\/europa\\/ninsorile-frigul-provoaca-decese-haos-europa-1_587107bf5ab6550cb82f721f\\/index.html\",\"categoryId\":23,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483806196,\"photos\":[]},{\"id\":3753,\"title\":\"Tenis. Juc\\u0103toarea care a \\u00eenvins-o pe Halep, c\\u00e2\\u0219tig\\u0103toare la Shenzhen. Katerina Siniakova a cucerit trofeul, dup\\u0103 ce a invins-o in final\\u0103 pe Alison Riske.\",\"body\":\"Tenis. Katerina Siniakova, juc\\u0103toarea ceh\\u0103 care a \\u00eenvins-o pe Halep, a luat titlul de la Shenzhen.\",\"link\":\"http:\\/\\/www.digi24.ro\\/stiri\\/sport\\/tenis\\/jucatoarea-care-a-invins-o-pe-halep-castigatoare-la-shenzhen-645652\",\"categoryId\":14,\"newsType\":3,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483805725,\"photos\":[]},{\"id\":3748,\"title\":\"Record livr\\u0103ri Gazprom. Compania rus\\u0103 a \\u00eenregistrat un maxim istoric al exportului de gaz natural c\\u0103tre statele din Europa, ca urmare a r\\u0103cirii vremii.\",\"body\":\"Record de livr\\u0103ri ale Gazprom. Compania rus\\u0103 a \\u00eenregistrat un maxim istoric al exportului de gaze c\\u0103tre statele din Europa, din cauza frigului.\",\"link\":\"http:\\/\\/m.hotnews.ro\\/stire\\/21517915\",\"categoryId\":24,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483800304,\"photos\":[]},{\"id\":3718,\"title\":\"Alitalia renun\\u021b\\u0103 la cursele din Rom\\u00e2nia. Compania a anun\\u021bat c\\u0103 de la 1 februarie anuleaz\\u0103 zborurile de la \\u0219i c\\u0103tre Otopeni. \",\"body\":\"Alitalia renun\\u021b\\u0103 la cursele din Rom\\u00e2nia. Compania a anun\\u021bat c\\u0103 de la 1 februarie anuleaz\\u0103 zborurile de la \\u0219i c\\u0103tre Otopeni. \",\"link\":\"http:\\/\\/www.profit.ro\\/must-read\\/alitalia-invinsa-de-cursele-low-cost-pe-piata-romaneasca-compania-a-anuntat-agentiile-de-turism-ca-renunta-sa-mai-zboare-din-romania-16469411\",\"categoryId\":11,\"newsType\":3,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483769686,\"photos\":[]},{\"id\":3737,\"title\":\"Audi a \\u00eenregistrat v\\u00e2nz\\u0103ri record \\u00een 2016. Marca de lux german\\u0103 a v\\u00e2ndut 1,87 milioane de ma\\u0219ini, nivel maxim istoric, \\u00eens\\u0103 r\\u0103m\\u00e2ne \\u00een urma concuren\\u021bilor Mercedes-Benz \\u0219i BMW.\",\"body\":\"Audi a \\u00eenregistrat v\\u00e2nz\\u0103ri record \\u00een 2016. Marca de lux german\\u0103 a v\\u00e2ndut 1,87 milioane de ma\\u0219ini, nivel maxim istoric, \\u00eens\\u0103 r\\u0103m\\u00e2ne \\u00een urma concuren\\u021bilor Mercedes-Benz \\u0219i BMW.\",\"link\":\"http:\\/\\/www.profit.ro\\/povesti-cu-profit\\/auto-transporturi\\/audi-a-inregistrat-vanzari-record-in-2016-dar-a-ramas-in-urma-mercedes-si-bmw-16470257\",\"categoryId\":24,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483787081,\"photos\":[]},{\"id\":3725,\"title\":\"ANAF cump\\u0103r\\u0103 computere de peste 11 mil lei. Laptopurile \\u0219i calculatoare urmeaz\\u0103 s\\u0103 fie folosite \\u0219i de Ministerului Finan\\u021belor.\",\"body\":\"ANAF cump\\u0103r\\u0103 computere de peste 11 mil lei. A fost lansat\\u0103 licita\\u021bia pentru achizi\\u021bia a peste 15 mii de computere tip desktop \\u0219i 1.500 de laptopuri. \",\"link\":\"http:\\/\\/m.hotnews.ro\\/stire\\/21517421\",\"categoryId\":24,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483781383,\"photos\":[]},{\"id\":3714,\"title\":\"Directori de scoli prin numire, a decis Ministerul Educa\\u0163iei. Cei care nu au promovat concursul pot ocupa func\\u0163ii de conducere, printr-o nou\\u0103 derogare.\",\"body\":\"Noul ministru al Educa\\u0163iei permite fo\\u0219tilor directori de \\u0219coli s\\u0103 revin\\u0103 pe func\\u021bii, \\u00een cazul \\u00een care acestea sunt vacante. Metodologia anterioar\\u0103 interzicea explicit acest lucru.\",\"link\":\"http:\\/\\/www.hotnews.ro\\/stiri-esential-21516652-restauratie-rapida-educatie-cei-care-nu-promovat-concursul-pentru-directorii-scoli-vor-putea-ocupe-functiile-prin-numire-decis-noul-ministru.htm\",\"categoryId\":11,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483739624,\"photos\":[]},{\"id\":3707,\"title\":\"salariul minim\",\"body\":\"Salariului minim brut - 1.450 lei, de la 1 februarie. Guvernul a decis o cre\\u0219tere de 200 de lei, adic\\u0103 16% \\u00een plus fa\\u021b\\u0103 de valoarea actual\\u0103.\",\"link\":\"http:\\/\\/www.news.ro\\/social\\/salariul-de-baza-minim-va-creste-la-1-450-de-lei-incepand-cu-1-februarie-a-decis-guvernul-1922402706092017011816469426\",\"categoryId\":11,\"newsType\":3,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483720703,\"photos\":[]},{\"id\":3719,\"title\":\"Jamie Oliver \\u00eenchide \\u015fase restaurante. Celebrul buc\\u0103tar va \\u00eenchide \\u015fase dintre restaurantele sale din Marea Britanie, din cauza deprecierii lirei sterline provocate de Brexit, care a urcat costurile localurilor.\",\"body\":\"Jamie Oliver \\u00eenchide \\u015fase restaurante. Localurile cu specific italian din Marea Britanie au devenit neprofitabile dup\\u0103 Brexit, din cauza deprecierii lirei sterline.\",\"link\":\"http:\\/\\/www.digi24.ro\\/magazin\\/timp-liber\\/divertisment\\/jamie-oliver-inchide-sase-restauran\r\n2000\r\nte-din-marea-britanie-din-cauza-impactului-brexit-645032\",\"categoryId\":21,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483769912,\"photos\":[]},{\"id\":3706,\"title\":\"NATO a debarcat tancuri \\u0219i tehnic\\u0103 militar\\u0103 \\u00een Germania, acestea urm\\u00e2nd s\\u0103 consolideze ap\\u0103rarea mai multor state membre din flancul estic, printre care \\u0219i Rom\\u00e2nia.\",\"body\":\"Sute de vehicule de lupt\\u0103 americane, \\u00eentre care tancuri \\u0219i obuziere autopropulsate, debarc\\u0103 \\u00een Germania. Se vor \\u00eentrepta spre Europa de Est, pentru consolidarea flancului NATO, din fa\\u021ba Rusiei.\",\"link\":\"http:\\/\\/m.hotnews.ro\\/stire\\/21516081\",\"categoryId\":11,\"newsType\":3,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483720442,\"photos\":[]},{\"id\":3715,\"title\":\"Andy Murray \\u015fi Novak Djokovic vor disputa finala turneului de tenis de la Doha.\",\"body\":\"Andy Murray \\u015fi Novak Djokovic vor disputa finala turneului de tenis de la Doha.\",\"link\":\"http:\\/\\/m.hotnews.ro\\/stire\\/21516458\",\"categoryId\":14,\"newsType\":0,\"editorGrade\":2,\"sourceUrl\":\"\",\"publishedOn\":1483766922,\"photos\":[]},{\"id\":3711,\"title\":\"Atac armat \\u00een Florida, SUA. Un atacator \\u00eenarmat a deschis focul \\u00een aeroportul Luaderdale-Hollyoowd, \\u00een urma c\\u0103ruia o persoan\\u0103 a fost ucis\\u0103, iar alte nou\\u0103 r\\u0103nite.\",\"body\":\"Atacul armat din Florida, comis de un t\\u00e2n\\u0103r de 26 de ani, cu probleme psihice. A deschis focul la \\u00eent\\u00e2mplare, omor\\u00e2nd cinci oameni \\u0219i r\\u0103nind al\\u021bi opt. A fost \\u00eempu\\u0219cat \\u0219i apoi re\\u021binut de poli\\u021bi\\u0219ti.\",\"link\":\"http:\\/\\/www.news.ro\\/externe\\/autoritatile-l-au-identificat-pe-tanarul-hispanic-esteban-santiago-drept-atacatorul-inarmat-de-la-aeroportul-lauderdale-1922403407002017010016469807\",\"categoryId\":23,\"newsType\":3,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483727878,\"photos\":[]},{\"id\":3704,\"title\":\"Modific\\u0103rile Codului Fiscal: Cot\\u0103 de 1% din venit pentru toate micro\\u00eentreprinderile; tranzac\\u021biile imobiliare de p\\u00e2n\\u0103 la 100 de mii de euro, scutite de impozit pe venit; CASS neplafonat pentru salariile mari.\",\"body\":\"Modific\\u0103rile Codului Fiscal: Cot\\u0103 de 1% din venit pentru toate micro\\u00eentreprinderile; tranzac\\u021biile imobiliare de p\\u00e2n\\u0103 la 100 de mii de euro, scutite de impozit pe venit; CASS neplafonat pentru salariile mari.\",\"link\":\"http:\\/\\/economie.hotnews.ro\\/stiri-finante_banci-21515974-document-proiectul-modificare-codului-fiscal-principalele-schimbari-pentru-microintreprinderi-impozitul-venit-contributii-sociale.htm\",\"categoryId\":24,\"newsType\":0,\"editorGrade\":2,\"sourceUrl\":\"\",\"publishedOn\":1483718480,\"photos\":[]},{\"id\":3705,\"title\":\"Societ\\u0103\\u021bile care desf\\u0103\\u0219oar\\u0103 doar activit\\u0103\\u021bi de inovare, cercetare - dezvoltare vor fi scutite de impozitul pe profit.\",\"body\":\"Societ\\u0103\\u021bile care desf\\u0103\\u0219oar\\u0103 doar activit\\u0103\\u021bi de inovare, cercetare - dezvoltare vor fi scutite de impozitul pe profit.\",\"link\":\"http:\\/\\/economie.hotnews.ro\\/stiri-finante-21515877-firmele-care-desfasoara-doar-activitati-cercetare-scutite-impozitul-profit-oug-adoptata-vineri.htm\",\"categoryId\":24,\"newsType\":0,\"editorGrade\":2,\"sourceUrl\":\"\",\"publishedOn\":1483719104,\"photos\":[]},{\"id\":3702,\"title\":\"SUA. Donald Trump le-a cerut tuturor ambasadorilor numi\\u021bi de Barack Obama, inclusiv celui din Rom\\u00e2nia, s\\u0103 p\\u0103r\\u0103seasc\\u0103 posturile p\\u00e2n\\u0103 la ziua \\u00eenvestirii, pe 20 ianuarie.\",\"body\":\"SUA. Trump le-a cerut tuturor ambasadorilor numi\\u021bi de Obama, inclusiv celui din Rom\\u00e2nia, s\\u0103 p\\u0103r\\u0103seasc\\u0103 posturile p\\u00e2n\\u0103 la ziua \\u00eenvestirii, pe 20 ianuarie.\",\"link\":\"http:\\/\\/www.profit.ro\\/stiri\\/politic\\/trump-le-a-cerut-tuturor-ambasadorilor-numiti-de-obama-inclusiv-celui-din-romania-sa-plece-din-posturi-16469198\",\"categoryId\":23,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483714830,\"photos\":[]},{\"id\":3700,\"title\":\"salarii bugetari si pensii\",\"body\":\"Salariile \\u00een administra\\u021bia local\\u0103 vor cre\\u0219te, de la 1 februarie, cu 20%, iar cele ale arti\\u0219tilor cu 50%. Punctul de pensie se majoreaz\\u0103 de la 1 iulie, iar bursele cresc la 200 de lei\\/lun\\u0103. \",\"link\":\"http:\\/\\/www.profit.ro\\/stiri\\/guvernul-creste-cu-20-salariile-si-sporurile-in-autoritatile-locale-punctul-de-pensie-ajunge-la-1-000-lei-estimeaza-un-minus-la-buget-de-5-13-miliarde-lei-16468921\",\"categoryId\":11,\"newsType\":3,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483710424,\"photos\":[]},{\"id\":3694,\"title\":\"Ministrul Justi\\u0163iei la CSM: Legea r\\u0103spunderii magistra\\u0163ilor ar putea ajunge \\u00een Parlament cel t\\u00e2rziu \\u00een februarie.\",\"body\":\"Ministrul Justi\\u0163iei la CSM: Legea r\\u0103spunderii magistra\\u0163ilor ar putea ajunge \\u00een Parlament cel t\\u00e2rziu \\u00een februarie.\",\"link\":\"http:\\/\\/www.news.ro\\/justitie\\/ministrul-justitiei-legea-raspunderii-magistratilor-ar-putea-ajunge-in-parlament-cel-tarziu-in-februarie-dupa-ce-voi-avea-discutii-cu-reprezentantii-sistemului-judiciar-1922403606452017011316468818\",\"categoryId\":11,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483704152,\"photos\":[]},{\"id\":3691,\"title\":\"Klaus Iohannis a promulgat legea care prevede eliminarea a 102 taxe nefiscale, inclusiv taxa radio-tv \\u0219i timbrul de mediu.\",\"body\":\"Klaus Iohannis a promulgat legea care prevede eliminarea a 102 taxe nefiscale, inclusiv taxa radio-tv \\u0219i timbrul de mediu.\",\"link\":\"http:\\/\\/www.news.ro\\/politic-intern\\/klaus-iohannis-a-promulgat-legea-privind-eliminarea-a-102-taxe-nefiscale-in-ultima-zi-a-termenului-legal-1922403806572017011316468817\",\"categoryId\":11,\"newsType\":3,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483702797,\"photos\":[]},{\"id\":3690,\"title\":\"Scandalul Dieselgate. Un director VW din Coreea de Sud a fost condamnat la un an \\u0219i \\u0219ase luni de \\u00eenchisoare pentru falsificarea documenta\\u021biei testelor de poluare.\",\"body\":\"Scandalul Dieselgate. Un director VW din Coreea de Sud a fost condamnat la un an \\u0219i \\u0219ase luni de \\u00eenchisoare pentru falsificarea documenta\\u021biei testelor de poluare.\",\"link\":\"http:\\/\\/www.profit.ro\\/povesti-cu-profit\\/auto-transporturi\\/un-director-al-diviziei-volkswagen-din-coreea-de-sud-condamnat-la-1-an-si-6-luni-de-inchisoare-in-scandalul-emisiilor-16468772\",\"categoryId\":23,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483701642,\"photos\":[]},{\"id\":3688,\"title\":\"Cota\\u021bii BNR, 6 ianuarie 2017: 1 euro = 4,5069 lei, 1 dolar = 4,2518 lei.\",\"body\":\"Cota\\u021bii BNR, 6 ianuarie 2017: 1 euro = 4,5069 lei, 1 dolar = 4,2518 lei.\",\"link\":\"http:\\/\\/www.news.ro\\/economic\\/cursul-bnr-euro-scade-la-4-5069-lei-dolarul-coboara-la-4-2518-lei-1922400306092017011316468741\",\"categoryId\":24,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483700898,\"photos\":[]},{\"id\":3684,\"title\":\"Rusia retrage trupele din Siria, par\\u021bial, ca urmare a acordului negociat \\u00een zilele trecute \\u0219i cu Turcia. Portavionul Amiralul Kuzne\\u0163ov va fi primul care se va retrage.\",\"body\":\"Rusia \\u00ee\\u0219i reduce prezen\\u0163a militar\\u0103 \\u00een Siria. Portavionul Amiralul Kuzne\\u0163ov se va retrage din Marea Mediteran\\u0103.\",\"link\":\"http:\\/\\/www.news.ro\\/externe\\/rusia-retrage-portavionul-amiralul-kuznetov-din-mediterana-in-cadrul-reducerii-prezentei-militare-in-siria-1922401106172017011116468513\",\"categoryId\":23,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483696059,\"photos\":[]},{\"id\":3683,\"title\":\"Iohannis la CSM: Se dore\\u0219te sc\\u0103parea corup\\u021bilor. M\\u0103 voi opune legii gra\\u021bierii \\u0219i aministiei \\u201ccu toat\\u0103 greutatea \\u0219i puterea func\\u021biei preziden\\u021biale\\u201d. \",\"body\":\"Iohannis la CSM: Se dore\\u0219te sc\\u0103parea corup\\u021bilor. M\\u0103 voi opune legii gra\\u021bierii \\u0219i amnistiei \\u201ccu toat\\u0103 greutatea \\u0219i puterea func\\u021biei preziden\\u021biale\\u201d.\",\"link\":\"http:\\/\\/www.digi24.ro\\/stiri\\/actualitate\\/justitie\\/k-iohannis-o-circumstanta-ingrijoratoare-presedintele-camerei-este-o-condamnat-penal-si-presedintele-senatului-este-trim\r\n932\r\nis-in-judecata-pentru-minciuna-penala-644916\",\"categoryId\":11,\"newsType\":3,\"editorGrade\":2,\"sourceUrl\":\"\",\"publishedOn\":1483695845,\"photos\":[]},{\"id\":3678,\"title\":\"LG Electronics prima pierdere trimestrial\\u0103, din ultimii 6 ani. V\\u00e2nz\\u0103rile slabe de telefoane mobile \\u015fi aparatur\\u0103 electrocasnic\\u0103 au adus companiei o sc\\u0103dere de 29.35 mil dolari.\",\"body\":\"LG Electronics, prima pierdere trimestrial\\u0103 din ultimii 6 ani, generat\\u0103 de v\\u00e2nz\\u0103rile slabe de aparatur\\u0103 electrocasnic\\u0103 \\u0219i de divizia de telefoane.\",\"link\":\"http:\\/\\/www.profit.ro\\/povesti-cu-profit\\/it-c\\/lg-electronics-estimeaza-in-intervalul-octombrie-decembrie-prima-pierdere-trimestriala-din-ultimii-sase-ani-16468318\",\"categoryId\":24,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483692338,\"photos\":[]},{\"id\":3677,\"title\":\"Profitul Samsung a crescut cu 50%, \\u00een T4 2016, fa\\u021b\\u0103 de aceea\\u0219i perioad\\u0103 din 2015, la maximul din ultimii trei ani. Se pare c\\u0103 e\\u0219ecul Galaxy Note 7 nu a adus mari pierderi companiei.\",\"body\":\"Profitul Samsung a crescut cu 50%, \\u00een T4 2016, fa\\u021b\\u0103 de aceea\\u0219i perioad\\u0103 din 2015, la maximul ultimilor trei ani. Se pare c\\u0103 e\\u0219ecul Galaxy Note 7 nu a adus mari pierderi companiei.\",\"link\":\"http:\\/\\/www.profit.ro\\/profitul-tau\\/gadget-internet\\/samsung-estimeaza-un-profit-cu-50-mai-mare-decat-in-2015-pentru-ultimul-trimestru-din-anul-trecut-16468297\",\"categoryId\":24,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483691196,\"photos\":[]},{\"id\":3674,\"title\":\"Noua interfa\\u021b\\u0103 Windows 10, definit\\u0103 de linii clare \\u0219i forme geometrice simple, culori intense, fonturi atr\\u0103g\\u0103toare \\u0219i c\\u00e2t mai pu\\u021bine umbre \\u0219i efecte 3D. Update-ul va ap\\u0103rea la finalul anului 2017.\",\"body\":\"Noua interfa\\u021b\\u0103 Windows 10, definit\\u0103 de linii clare \\u0219i forme geometrice simple, culori intense, fonturi atr\\u0103g\\u0103toare \\u0219i c\\u00e2t mai pu\\u021bine umbre \\u0219i efecte 3D. Update-ul va ap\\u0103rea la finalul anului 2017.\",\"link\":\"http:\\/\\/www.profit.ro\\/povesti-cu-profit\\/it-c\\/foto-primele-imagini-cu-noua-interfata-de-windows-10-16468285\",\"categoryId\":20,\"newsType\":0,\"editorGrade\":1,\"sourceUrl\":\"\",\"publishedOn\":1483689645,\"photos\":[]}],\"last_order_date\":1483689537}}\r\n");
            NewsItems = new ObservableCollection<NewsItem>(response.NewsResponse.NewsItems);*/
        }

        protected override async void OnActivate()
        {
            base.OnActivate();
            var report = await _newsRetriever.RetrieveNews();
            if (report.IsSuccessful)
            {
                NewsItems = new ObservableCollection<NewsItem>(report.Content.Data);
            }
        }

        public ObservableCollection<NewsItem> NewsItems
        {
            get { return _newsItems; }
            set
            {
                if (Equals(value, _newsItems)) return;
                _newsItems = value;
                NotifyOfPropertyChange(() => NewsItems);
            }
        }

        public bool PageIsLoading
        {
            get { return _pageIsLoading; }
            set
            {
                if (value == _pageIsLoading) return;
                _pageIsLoading = value;
                NotifyOfPropertyChange(() => PageIsLoading);
            }
        }

        public void LoadingPage()
        {
            PageIsLoading = true;
        }

        public void PageLoaded()
        {
            PageIsLoading = false;
        }
    }
}